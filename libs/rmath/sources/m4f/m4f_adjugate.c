/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   m4f_adjugate.c                                     :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: Rakiah <bkabbas@student.42.fr>             +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2016/06/09 23:43:25 by Rakiah            #+#    #+#             */
/*   Updated: 2016/06/09 23:43:34 by Rakiah           ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "rmath_m4f.h"

static void		m4f_adjugate_x(t_matrix4f *b, t_matrix4f *m)
{
	b->m[0][0] =
	m->m[1][2] * m->m[2][3] * m->m[3][1] - m->m[1][3] * m->m[2][2] *
	m->m[3][1] + m->m[1][3] * m->m[2][1] * m->m[3][2] - m->m[1][1] *
	m->m[2][3] * m->m[3][2] - m->m[1][2] * m->m[2][1] * m->m[3][3] +
	m->m[1][1] * m->m[2][2] * m->m[3][3];
	b->m[0][1] =
	m->m[0][3] * m->m[2][2] * m->m[3][1] - m->m[0][2] * m->m[2][3] *
	m->m[3][1] - m->m[0][3] * m->m[2][1] * m->m[3][2] + m->m[0][1] *
	m->m[2][3] * m->m[3][2] + m->m[0][2] * m->m[2][1] * m->m[3][3] -
	m->m[0][1] * m->m[2][2] * m->m[3][3];
	b->m[0][2] =
	m->m[0][2] * m->m[1][3] * m->m[3][1] - m->m[0][3] * m->m[1][2] *
	m->m[3][1] + m->m[0][3] * m->m[1][1] * m->m[3][2] - m->m[0][1] *
	m->m[1][3] * m->m[3][2] - m->m[0][2] * m->m[1][1] * m->m[3][3] +
	m->m[0][1] * m->m[1][2] * m->m[3][3];
	b->m[0][3] =
	m->m[0][3] * m->m[1][2] * m->m[2][1] - m->m[0][2] * m->m[1][3] *
	m->m[2][1] - m->m[0][3] * m->m[1][1] * m->m[2][2] + m->m[0][1] *
	m->m[1][3] * m->m[2][2] + m->m[0][2] * m->m[1][1] * m->m[2][3] -
	m->m[0][1] * m->m[1][2] * m->m[2][3];
}

static void		m4f_adjugate_y(t_matrix4f *b, t_matrix4f *m)
{
	b->m[1][0] =
	m->m[1][3] * m->m[2][2] * m->m[3][0] - m->m[1][2] * m->m[2][3] *
	m->m[3][0] - m->m[1][3] * m->m[2][0] * m->m[3][2] + m->m[1][0] *
	m->m[2][3] * m->m[3][2] + m->m[1][2] * m->m[2][0] * m->m[3][3] -
	m->m[1][0] * m->m[2][2] * m->m[3][3];
	b->m[1][1] =
	m->m[0][2] * m->m[2][3] * m->m[3][0] - m->m[0][3] * m->m[2][2] *
	m->m[3][0] + m->m[0][3] * m->m[2][0] * m->m[3][2] - m->m[0][0] *
	m->m[2][3] * m->m[3][2] - m->m[0][2] * m->m[2][0] * m->m[3][3] +
	m->m[0][0] * m->m[2][2] * m->m[3][3];
	b->m[1][2] =
	m->m[0][3] * m->m[1][2] * m->m[3][0] - m->m[0][2] * m->m[1][3] *
	m->m[3][0] - m->m[0][3] * m->m[1][0] * m->m[3][2] + m->m[0][0] *
	m->m[1][3] * m->m[3][2] + m->m[0][2] * m->m[1][0] * m->m[3][3] -
	m->m[0][0] * m->m[1][2] * m->m[3][3];
	b->m[1][3] =
	m->m[0][2] * m->m[1][3] * m->m[2][0] - m->m[0][3] * m->m[1][2] *
	m->m[2][0] + m->m[0][3] * m->m[1][0] * m->m[2][2] - m->m[0][0] *
	m->m[1][3] * m->m[2][2] - m->m[0][2] * m->m[1][0] * m->m[2][3] +
	m->m[0][0] * m->m[1][2] * m->m[2][3];
}

static void		m4f_adjugate_z(t_matrix4f *b, t_matrix4f *m)
{
	b->m[2][0] =
	m->m[1][1] * m->m[2][3] * m->m[3][0] - m->m[1][3] * m->m[2][1] *
	m->m[3][0] + m->m[1][3] * m->m[2][0] * m->m[3][1] - m->m[1][0] *
	m->m[2][3] * m->m[3][1] - m->m[1][1] * m->m[2][0] * m->m[3][3] +
	m->m[1][0] * m->m[2][1] * m->m[3][3];
	b->m[2][1] =
	m->m[0][3] * m->m[2][1] * m->m[3][0] - m->m[0][1] * m->m[2][3] *
	m->m[3][0] - m->m[0][3] * m->m[2][0] * m->m[3][1] + m->m[0][0] *
	m->m[2][3] * m->m[3][1] + m->m[0][1] * m->m[2][0] * m->m[3][3] -
	m->m[0][0] * m->m[2][1] * m->m[3][3];
	b->m[2][2] =
	m->m[0][1] * m->m[1][3] * m->m[3][0] - m->m[0][3] * m->m[1][1] *
	m->m[3][0] + m->m[0][3] * m->m[1][0] * m->m[3][1] - m->m[0][0] *
	m->m[1][3] * m->m[3][1] - m->m[0][1] * m->m[1][0] * m->m[3][3] +
	m->m[0][0] * m->m[1][1] * m->m[3][3];
	b->m[2][3] =
	m->m[0][3] * m->m[1][1] * m->m[2][0] - m->m[0][1] * m->m[1][3] *
	m->m[2][0] - m->m[0][3] * m->m[1][0] * m->m[2][1] + m->m[0][0] *
	m->m[1][3] * m->m[2][1] + m->m[0][1] * m->m[1][0] * m->m[2][3] -
	m->m[0][0] * m->m[1][1] * m->m[2][3];
}

static void		m4f_adjugate_w(t_matrix4f *b, t_matrix4f *m)
{
	b->m[3][0] =
	m->m[1][2] * m->m[2][1] * m->m[3][0] - m->m[1][1] * m->m[2][2] *
	m->m[3][0] - m->m[1][2] * m->m[2][0] * m->m[3][1] + m->m[1][0] *
	m->m[2][2] * m->m[3][1] + m->m[1][1] * m->m[2][0] * m->m[3][2] -
	m->m[1][0] * m->m[2][1] * m->m[3][2];
	b->m[3][1] =
	m->m[0][1] * m->m[2][2] * m->m[3][0] - m->m[0][2] * m->m[2][1] *
	m->m[3][0] + m->m[0][2] * m->m[2][0] * m->m[3][1] - m->m[0][0] *
	m->m[2][2] * m->m[3][1] - m->m[0][1] * m->m[2][0] * m->m[3][2] +
	m->m[0][0] * m->m[2][1] * m->m[3][2];
	b->m[3][2] =
	m->m[0][2] * m->m[1][1] * m->m[3][0] - m->m[0][1] * m->m[1][2] *
	m->m[3][0] - m->m[0][2] * m->m[1][0] * m->m[3][1] + m->m[0][0] *
	m->m[1][2] * m->m[3][1] + m->m[0][1] * m->m[1][0] * m->m[3][2] -
	m->m[0][0] * m->m[1][1] * m->m[3][2];
	b->m[3][3] =
	m->m[0][1] * m->m[1][2] * m->m[2][0] - m->m[0][2] * m->m[1][1] *
	m->m[2][0] + m->m[0][2] * m->m[1][0] * m->m[2][1] - m->m[0][0] *
	m->m[1][2] * m->m[2][1] - m->m[0][1] * m->m[1][0] * m->m[2][2] +
	m->m[0][0] * m->m[1][1] * m->m[2][2];
}

void			m4f_adjugate(t_matrix4f *m)
{
	t_matrix4f b;

	m4f_adjugate_x(&b, m);
	m4f_adjugate_y(&b, m);
	m4f_adjugate_z(&b, m);
	m4f_adjugate_w(&b, m);
	m4f_cpy(m, &b);
}
